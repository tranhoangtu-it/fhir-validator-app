{"resourceType": "StructureDefinition", "id": "Narrative", "meta": {"lastUpdated": "2019-11-01T09:29:23.356000+11:00"}, "extension": [{"url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status", "valueCode": "normative"}, {"url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version", "valueCode": "4.0.0"}], "url": "http://hl7.org/fhir/StructureDefinition/Narrative", "version": "4.0.1", "name": "Narrative", "status": "active", "date": "2019-11-01T09:29:23+11:00", "publisher": "HL7 FHIR Standard", "contact": [{"telecom": [{"system": "url", "value": "http://hl7.org/fhir"}]}], "description": "叙述(Narative)タイプのベース構造定義：リソースの重要な臨床情報とビジネス情報を伝えるリソースの人間が読み取り可能な要約。 / Base StructureDefinition for Narrative Type: A human-readable summary of the resource conveying the essential clinical and business information for the resource.", "fhirVersion": "4.0.1", "mapping": [{"identity": "rim", "uri": "http://hl7.org/v3", "name": "RIM Mapping"}], "kind": "complex-type", "abstract": false, "type": "Narrative", "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Element", "derivation": "specialization", "snapshot": {"element": [{"id": "Narrative", "extension": [{"url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status", "valueCode": "normative"}, {"url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version", "valueCode": "4.0.0"}], "path": "Narrative", "short": "リソースの人間読み取り可能な概要（必須の臨床情報およびビジネス情報） / Human-readable summary of the resource (essential clinical and business information)", "definition": "リソースの本質的な臨床情報とビジネス情報を伝えるリソースの人間が読みやすい要約。 / A human-readable summary of the resource conveying the essential clinical and business information for the resource.", "min": 0, "max": "*", "base": {"path": "Narrative", "min": 0, "max": "*"}, "condition": ["ele-1"], "constraint": [{"key": "ele-1", "severity": "error", "human": "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children", "expression": "hasValue() or (children().count() > id.count())", "xpath": "@value|f:*|h:div", "source": "http://hl7.org/fhir/StructureDefinition/Element"}], "isModifier": false, "mapping": [{"identity": "rim", "map": "n/a"}, {"identity": "rim", "map": "N/A"}]}, {"id": "Narrative.id", "path": "Narrative.id", "representation": ["xmlAttr"], "short": "要素間参照のための一意のID / Unique id for inter-element referencing", "definition": "リソース内の要素の一意のID（内部参照用）。これは、スペースを含まない文字列値である場合があります。 / Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.", "min": 0, "max": "1", "base": {"path": "Element.id", "min": 0, "max": "1"}, "type": [{"extension": [{"url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type", "valueUrl": "string"}], "code": "http://hl7.org/fhirpath/System.String"}], "isModifier": false, "isSummary": false, "mapping": [{"identity": "rim", "map": "n/a"}]}, {"id": "Narrative.extension", "path": "Narrative.extension", "slicing": {"discriminator": [{"type": "value", "path": "url"}], "description": "Extensions are always sliced by (at least) url", "rules": "open"}, "short": "実装で定義された追加のコンテンツ / Additional content defined by implementations", "definition": "要素の基本的な定義の一部ではない追加情報を表すために使用できます。拡張機能を安全で管理しやすくするために、拡張機能の定義と使用に適用される厳格なガバナンスセットがあります。実装者は拡張機能を定義できますが、拡張機能の定義の一部として満たされる一連の要件があります。 / May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.", "comment": "拡張機能を使用または定義する機関や管轄権に関係なく、アプリケーション、プロジェクト、または標準による拡張機能の使用に関連するスティグマはありません。拡張機能の使用は、FHIR仕様がすべての人にコアレベルのシンプルさを保持できるようにするものです。 / There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone.", "alias": ["extensions", "user content"], "min": 0, "max": "*", "base": {"path": "Element.extension", "min": 0, "max": "*"}, "type": [{"code": "Extension"}], "constraint": [{"key": "ele-1", "severity": "error", "human": "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children", "expression": "hasValue() or (children().count() > id.count())", "xpath": "@value|f:*|h:div", "source": "http://hl7.org/fhir/StructureDefinition/Element"}, {"key": "ext-1", "severity": "error", "human": "両方ではなく、拡張または値[x]が必要です / Must have either extensions or value[x], not both", "expression": "extension.exists() != value.exists()", "xpath": "exists(f:extension)!=exists(f:*[starts-with(local-name(.), \"value\")])", "source": "http://hl7.org/fhir/StructureDefinition/Extension"}], "isModifier": false, "isSummary": false, "mapping": [{"identity": "rim", "map": "n/a"}]}, {"id": "Narrative.status", "path": "Narrative.status", "short": "生成|拡張機能|追加|空の / generated | extensions | additional | empty", "definition": "叙述(Narative)のステータス - それが完全に生成されているかどうか（定義されたデータまたは拡張機能のみから）、または人間がそれを作成し、追加データが含まれている可能性があるかどうか。 / The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data.", "min": 1, "max": "1", "base": {"path": "Narrative.status", "min": 1, "max": "1"}, "type": [{"code": "code"}], "constraint": [{"key": "ele-1", "severity": "error", "human": "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children", "expression": "hasValue() or (children().count() > id.count())", "xpath": "@value|f:*|h:div", "source": "http://hl7.org/fhir/StructureDefinition/Element"}], "isModifier": false, "isSummary": false, "binding": {"extension": [{"url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName", "valueString": "NarrativeStatus"}], "strength": "required", "description": "リソースの叙述(Narative)のステータス。 / The status of a resource narrative.", "valueSet": "http://hl7.org/fhir/ValueSet/narrative-status|4.0.1"}, "mapping": [{"identity": "rim", "map": "N/A"}]}, {"id": "Narrative.div", "path": "Narrative.div", "short": "限られたXHTMLコンテンツ / Limited xhtml content", "definition": "実際の叙述(Narative)コンテンツ、XHTMLの剥がれたバージョン。 / The actual narrative content, a stripped down version of XHTML.", "comment": "HTML要素の内容は、HTML 4.0標準の7〜11章と15章で説明されている基本的なHTMLフォーマット要素のみを含むXHTMLフラグメントです。XHTMLコンテンツには、ヘッド、ボディ、外部スタイルシート参照、スクリプト、フォーム、ベース/リンク/Xlink、フレーム、IFRAME、オブジェクトが含まれていません。 / The contents of the html element are an XHTML fragment containing only the basic html formatting elements described in chapters 7-11 and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained stylesheets. The XHTML content SHALL NOT contain a head, a body, external stylesheet references, scripts, forms, base/link/xlink, frames, iframes and objects.", "min": 1, "max": "1", "base": {"path": "Narrative.div", "min": 1, "max": "1"}, "type": [{"code": "xhtml"}], "constraint": [{"key": "ele-1", "severity": "error", "human": "すべてのFHIR要素には、@valueまたは子供が必要です / All FHIR elements must have a @value or children", "expression": "hasValue() or (children().count() > id.count())", "xpath": "@value|f:*|h:div", "source": "http://hl7.org/fhir/StructureDefinition/Element"}, {"key": "txt-1", "severity": "error", "human": "叙述(Narative)には、HTML 4.0標準<a>要素（名前またはHREFのいずれか）、画像、および内部に含まれるスタイルの第7〜11章（第9章のセクション4を除く）および15で説明した基本的なHTMLフォーマット要素と属性のみが含まれます。属性 / The narrative SHALL contain only the basic html formatting elements and attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes", "expression": "htmlChecks()", "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'col', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'sub', 'sup', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))]) and not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"}, {"key": "txt-2", "severity": "error", "human": "叙述(Narative)には、いくつかの非白人コンテンツがあります / The narrative SHALL have some non-whitespace content", "expression": "htmlChecks()", "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"}], "isModifier": false, "isSummary": false, "mapping": [{"identity": "rim", "map": "N/A"}]}]}, "differential": {"element": [{"id": "Narrative", "extension": [{"url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status", "valueCode": "normative"}, {"url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version", "valueCode": "4.0.0"}], "path": "Narrative", "short": "Human-readable summary of the resource (essential clinical and business information)", "definition": "A human-readable summary of the resource conveying the essential clinical and business information for the resource.", "min": 0, "max": "*", "mapping": [{"identity": "rim", "map": "N/A"}]}, {"id": "Narrative.status", "path": "Narrative.status", "short": "generated | extensions | additional | empty", "definition": "The status of the narrative - whether it's entirely generated (from just the defined data or the extensions too), or whether a human authored it and it may contain additional data.", "min": 1, "max": "1", "type": [{"code": "code"}], "binding": {"extension": [{"url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName", "valueString": "NarrativeStatus"}], "strength": "required", "description": "The status of a resource narrative.", "valueSet": "http://hl7.org/fhir/ValueSet/narrative-status|4.0.1"}, "mapping": [{"identity": "rim", "map": "N/A"}]}, {"id": "Narrative.div", "path": "Narrative.div", "short": "Limited xhtml content", "definition": "The actual narrative content, a stripped down version of XHTML.", "comment": "The contents of the html element are an XHTML fragment containing only the basic html formatting elements described in chapters 7-11 and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained stylesheets. The XHTML content SHALL NOT contain a head, a body, external stylesheet references, scripts, forms, base/link/xlink, frames, iframes and objects.", "min": 1, "max": "1", "type": [{"code": "xhtml"}], "constraint": [{"key": "txt-1", "severity": "error", "human": "The narrative SHALL contain only the basic html formatting elements and attributes described in chapters 7-11 (except section 4 of chapter 9) and 15 of the HTML 4.0 standard, <a> elements (either name or href), images and internally contained style attributes", "expression": "htmlChecks()", "xpath": "not(descendant-or-self::*[not(local-name(.)=('a', 'abbr', 'acronym', 'b', 'big', 'blockquote', 'br', 'caption', 'cite', 'code', 'col', 'colgroup', 'dd', 'dfn', 'div', 'dl', 'dt', 'em', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'i', 'img', 'li', 'ol', 'p', 'pre', 'q', 'samp', 'small', 'span', 'strong', 'sub', 'sup', 'table', 'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'tt', 'ul', 'var'))]) and not(descendant-or-self::*/@*[not(name(.)=('abbr', 'accesskey', 'align', 'alt', 'axis', 'bgcolor', 'border', 'cellhalign', 'cellpadding', 'cellspacing', 'cellvalign', 'char', 'charoff', 'charset', 'cite', 'class', 'colspan', 'compact', 'coords', 'dir', 'frame', 'headers', 'height', 'href', 'hreflang', 'hspace', 'id', 'lang', 'longdesc', 'name', 'nowrap', 'rel', 'rev', 'rowspan', 'rules', 'scope', 'shape', 'span', 'src', 'start', 'style', 'summary', 'tabindex', 'title', 'type', 'valign', 'value', 'vspace', 'width'))])"}, {"key": "txt-2", "severity": "error", "human": "The narrative SHALL have some non-whitespace content", "expression": "htmlChecks()", "xpath": "descendant::text()[normalize-space(.)!=''] or descendant::h:img[@src]"}], "mapping": [{"identity": "rim", "map": "N/A"}]}]}}